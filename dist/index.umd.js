!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FinsteinUtils={})}(this,function(t){"use strict";const e={set(t,e){try{const n=JSON.stringify(e);return window.localStorage.setItem(t,n),!0}catch(t){return console.warn("Failed to save to localStorage:",t),!1}},get(t,e){try{const n=window.localStorage.getItem(t);return n?JSON.parse(n):e||null}catch(t){return console.warn("Failed to read from localStorage:",t),e||null}},remove(t){try{return window.localStorage.removeItem(t),!0}catch(t){return console.warn("Failed to remove from localStorage:",t),!1}},clear(){try{return window.localStorage.clear(),!0}catch(t){return console.warn("Failed to clear localStorage:",t),!1}},keys(){try{return Object.keys(window.localStorage)}catch(t){return console.warn("Failed to get localStorage keys:",t),[]}},isAvailable(){try{const t="__localStorage_test__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}},n={set(t,e){try{const n=JSON.stringify(e);return window.sessionStorage.setItem(t,n),!0}catch(t){return console.warn("Failed to save to sessionStorage:",t),!1}},get(t,e){try{const n=window.sessionStorage.getItem(t);return n?JSON.parse(n):e||null}catch(t){return console.warn("Failed to read from sessionStorage:",t),e||null}},remove(t){try{return window.sessionStorage.removeItem(t),!0}catch(t){return console.warn("Failed to remove from sessionStorage:",t),!1}},clear(){try{return window.sessionStorage.clear(),!0}catch(t){return console.warn("Failed to clear sessionStorage:",t),!1}},keys(){try{return Object.keys(window.sessionStorage)}catch(t){return console.warn("Failed to get sessionStorage keys:",t),[]}},isAvailable(){try{const t="__sessionStorage_test__";return window.sessionStorage.setItem(t,t),window.sessionStorage.removeItem(t),!0}catch{return!1}}},r={set(t,e,n={}){let r=`${encodeURIComponent(t)}=${encodeURIComponent(e)}`;if(n.expires)if("number"==typeof n.expires){const t=new Date;t.setTime(t.getTime()+24*n.expires*60*60*1e3),r+=`; expires=${t.toUTCString()}`}else r+=`; expires=${n.expires.toUTCString()}`;n.path&&(r+=`; path=${n.path}`),n.domain&&(r+=`; domain=${n.domain}`),n.secure&&(r+="; secure"),n.sameSite&&(r+=`; samesite=${n.sameSite}`),document.cookie=r},get(t){const e=`${encodeURIComponent(t)}=`,n=document.cookie.split(";");for(let t of n)if(t=t.trim(),0===t.indexOf(e))return decodeURIComponent(t.substring(e.length));return null},remove(t,e={}){this.set(t,"",{...e,expires:new Date(0)})}};async function o(t,e={}){const{method:n="GET",headers:r={},body:o,timeout:a=3e4,credentials:i="same-origin"}=e,s=new AbortController,c=setTimeout(()=>s.abort(),a);try{const e=await fetch(t,{method:n,headers:{"Content-Type":"application/json",...r},body:o?JSON.stringify(o):void 0,credentials:i,signal:s.signal});clearTimeout(c);const a={};let u;e.headers.forEach((t,e)=>{a[e]=t});const l=e.headers.get("content-type");return u=l&&l.includes("application/json")?await e.json():await e.text(),{data:u,status:e.status,statusText:e.statusText,headers:a,ok:e.ok}}catch(t){throw clearTimeout(c),t}}const a={parse:t=>new URL(t),build(t,e={}){const n=new URL(t);return Object.entries(e).forEach(([t,e])=>{null!=e&&n.searchParams.set(t,String(e))}),n.toString()},getParams(t){const e=new URL(t),n={};return e.searchParams.forEach((t,e)=>{n[e]=t}),n},addParams(t,e){const n=new URL(t);return Object.entries(e).forEach(([t,e])=>{null!=e&&n.searchParams.set(t,String(e))}),n.toString()},removeParams(t,e){const n=new URL(t);return e.forEach(t=>{n.searchParams.delete(t)}),n.toString()},join:(...t)=>t.map(t=>t.replace(/^\/+|\/+$/g,"")).filter(Boolean).join("/"),isAbsolute:t=>/^https?:\/\//.test(t),isRelative(t){return!this.isAbsolute(t)}},i={parse(t){const e={};return new URLSearchParams(t).forEach((t,n)=>{e[n]=t}),e},stringify(t){const e=new URLSearchParams;return Object.entries(t).forEach(([t,n])=>{null!=n&&e.set(t,String(n))}),e.toString()}};function s(t,e){for(t=Math.abs(t),e=Math.abs(e);0!==e;){const n=e;e=t%e,t=n}return t}function c(t){return t.reduce((t,e)=>t+e,0)}function u(t){return 0===t.length?0:c(t)/t.length}function l(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function f(t,e,n){const r=t=>{const e=Math.round(Math.max(0,Math.min(255,t))).toString(16);return 1===e.length?"0"+e:e};return`#${r(t)}${r(e)}${r(n)}`}function p(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),o=Math.min(t,e,n);let a=0,i=0;const s=(r+o)/2;if(r!==o){const c=r-o;switch(i=s>.5?c/(2-r-o):c/(r+o),r){case t:a=(e-n)/c+(e<n?6:0);break;case e:a=(n-t)/c+2;break;case n:a=(t-e)/c+4}a/=6}return{h:Math.round(360*a),s:Math.round(100*i),l:Math.round(100*s)}}function d(t,e,n){t/=360,n/=100;const r=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t);let o,a,i;if(0===(e/=100))o=a=i=n;else{const s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;o=r(c,s,t+1/3),a=r(c,s,t),i=r(c,s,t-1/3)}return{r:Math.round(255*o),g:Math.round(255*a),b:Math.round(255*i)}}function m(t){const e=l(t);return e?p(e.r,e.g,e.b):null}function h(t,e,n){const r=d(t,e,n);return f(r.r,r.g,r.b)}function g(t,e,n){const[r,o,a]=[t,e,n].map(t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4));return.2126*r+.7152*o+.0722*a}function w(t,e){const n=l(t),r=l(e);if(!n||!r)return 0;const o=g(n.r,n.g,n.b),a=g(r.r,r.g,r.b);return(Math.max(o,a)+.05)/(Math.min(o,a)+.05)}function y(t,e){const n=m(t);return n?(n.h=(n.h+e)%360,n.h<0&&(n.h+=360),h(n.h,n.s,n.l)):t}function x(t){return t.slice((t.lastIndexOf(".")-1>>>0)+2)}function b(t){return t.replace(/\.[^/.]+$/,"")}function M(t){return/^[\/\\]|[a-zA-Z]:[\/\\]/.test(t)}function S(t){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml",ico:"image/x-icon",bmp:"image/bmp",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",txt:"text/plain",rtf:"application/rtf",zip:"application/zip",rar:"application/vnd.rar","7z":"application/x-7z-compressed",tar:"application/x-tar",gz:"application/gzip",mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg",m4a:"audio/mp4",flac:"audio/flac",mp4:"video/mp4",avi:"video/x-msvideo",mov:"video/quicktime",wmv:"video/x-ms-wmv",flv:"video/x-flv",webm:"video/webm",html:"text/html",htm:"text/html",css:"text/css",js:"application/javascript",ts:"application/typescript",json:"application/json",xml:"application/xml",sql:"application/sql",php:"application/x-httpd-php",py:"text/x-python",java:"text/x-java-source",cpp:"text/x-c++src",c:"text/x-csrc",cs:"text/x-csharp",rb:"text/x-ruby",go:"text/x-go",rs:"text/x-rust",swift:"text/x-swift",kt:"text/x-kotlin",ttf:"font/ttf",otf:"font/otf",woff:"font/woff",woff2:"font/woff2",eot:"application/vnd.ms-fontobject"}[x(t).toLowerCase()]||"application/octet-stream"}function D(t){return S(t).startsWith("image/")}function v(t){return S(t).startsWith("video/")}function T(t){return S(t).startsWith("audio/")}function $(t){const e=S(t);return e.includes("document")||e.includes("pdf")||e.includes("text/")||e.includes("application/")}function A(t){const e=S(t);return e.includes("zip")||e.includes("rar")||e.includes("compressed")||e.includes("tar")||e.includes("gzip")}function j(t){const e=x(t).toLowerCase();return["exe","msi","app","dmg","deb","rpm","sh","bat","cmd"].includes(e)}function P(t,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function C(t){let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return Math.abs(e)}function I(t){if("undefined"!=typeof btoa)return btoa(t);if("undefined"!=typeof Buffer)return Buffer.from(t).toString("base64");throw new Error("Base64 encoding not available")}function k(t){if("undefined"!=typeof atob)return atob(t);if("undefined"!=typeof Buffer)return Buffer.from(t,"base64").toString();throw new Error("Base64 decoding not available")}function E(t,e,n){const r=new Date(t);switch(n){case"milliseconds":r.setTime(r.getTime()+e);break;case"seconds":r.setTime(r.getTime()+1e3*e);break;case"minutes":r.setTime(r.getTime()+60*e*1e3);break;case"hours":r.setTime(r.getTime()+60*e*60*1e3);break;case"days":r.setDate(r.getDate()+e);break;case"weeks":r.setDate(r.getDate()+7*e);break;case"months":r.setMonth(r.getMonth()+e);break;case"years":r.setFullYear(r.getFullYear()+e)}return r}t.addTime=E,t.analogous=function(t,e=3){const n=m(t);if(!n)return[t];const r=[t];for(let t=1;t<e;t++){const e=(n.h+30*t)%360;r.push(h(e,n.s,n.l))}return r},t.average=u,t.base64Decode=k,t.base64Encode=I,t.base64UrlDecode=function(t){for(;t.length%4;)t+="=";return k(t.replace(/-/g,"+").replace(/_/g,"/"))},t.base64UrlEncode=function(t){return I(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},t.capitalize=function(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t},t.checkPasswordStrength=function(t){const e=[];let n=0;return t.length<8?e.push("Password should be at least 8 characters long"):t.length>=12?n+=2:n+=1,/[a-z]/.test(t)?n+=1:e.push("Include lowercase letters"),/[A-Z]/.test(t)?n+=1:e.push("Include uppercase letters"),/[0-9]/.test(t)?n+=1:e.push("Include numbers"),/[^A-Za-z0-9]/.test(t)?n+=1:e.push("Include special characters"),/(.)\1{2,}/.test(t)&&(n-=1,e.push("Avoid repeated characters")),{score:Math.max(0,n),feedback:e}},t.chunk=function(t,e){if(e<=0)return[];const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},t.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},t.compact=function(t){return t.filter(Boolean)},t.complementary=function(t){return y(t,180)},t.concurrent=async function(t,e=5){const n=[],r=[];for(const o of t){r.length>=e&&await Promise.race(r);const t=o().then(e=>{n.push(e);const o=r.indexOf(t);o>-1&&r.splice(o,1)});r.push(t)}return await Promise.all(r),n},t.convertTimezone=function(t,e){try{const n={timeZone:e},r=new Intl.DateTimeFormat("en-US",n).formatToParts(t),o=parseInt(r.find(t=>"year"===t.type)?.value||"0"),a=parseInt(r.find(t=>"month"===t.type)?.value||"0")-1,i=parseInt(r.find(t=>"day"===t.type)?.value||"0"),s=parseInt(r.find(t=>"hour"===t.type)?.value||"0"),c=parseInt(r.find(t=>"minute"===t.type)?.value||"0"),u=parseInt(r.find(t=>"second"===t.type)?.value||"0");return new Date(o,a,i,s,c,u)}catch{return t}},t.cookies=r,t.copyToClipboard=async function(t){if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(t){console.error("Failed to copy text: ",t)}document.body.removeChild(e)}},t.createDeferred=function(){let t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}},t.darken=function(t,e){const n=m(t);return n?(n.l=Math.max(0,n.l-e),h(n.h,n.s,n.l)):t},t.debounce=function(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}},t.debounceAsync=function(t,e){return(...n)=>new Promise((r,o)=>{setTimeout(async()=>{try{const e=await t(...n);r(e)}catch(t){o(t)}},e)})},t.deepClone=function t(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array)return e.map(e=>t(e));if("object"==typeof e){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}return e},t.deepMerge=function t(...e){return 0===e.length?{}:1===e.length?e[0]:e.reduce((e,n)=>{for(const r in n)n.hasOwnProperty(r)&&(n[r]&&"object"==typeof n[r]&&!Array.isArray(n[r])?e[r]=t(e[r]||{},n[r]):e[r]=n[r]);return e},{})},t.degreesToRadians=function(t){return t*(Math.PI/180)},t.del=function(t,e){return o(t,{...e,method:"DELETE"})},t.delay=function(t){return new Promise(e=>setTimeout(e,t))},t.deriveKey=function(t,e="default-salt"){const n=t+e;let r=0;for(let t=0;t<n.length;t++){r=(r<<5)-r+n.charCodeAt(t),r&=r}return Math.abs(r).toString(16)},t.desaturate=function(t,e){const n=m(t);return n?(n.s=Math.max(0,n.s-e),h(n.h,n.s,n.l)):t},t.difference=function(t,e){return t.filter(t=>!e.includes(t))},t.distance=function(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))},t.downloadFile=function(t,e,n="text/plain"){let r;r="string"==typeof t||t instanceof ArrayBuffer?new Blob([t],{type:n}):t;const o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},t.endOfDay=function(t=new Date){const e=new Date(t);return e.setHours(23,59,59,999),e},t.endOfMonth=function(t=new Date){const e=new Date(t);return e.setMonth(e.getMonth()+1,0),e.setHours(23,59,59,999),e},t.endOfWeek=function(t=new Date){const e=new Date(t),n=e.getDay();return e.setDate(e.getDate()+(6-n)),e.setHours(23,59,59,999),e},t.factorial=function(t){if(t<0)return NaN;if(0===t||1===t)return 1;let e=1;for(let n=2;n<=t;n++)e*=n;return e},t.flatten=function(t){return t.reduce((t,e)=>t.concat(e),[])},t.flattenObject=function t(e,n=""){const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=n?`${n}.${o}`:o;e[o]&&"object"==typeof e[o]&&!Array.isArray(e[o])?Object.assign(r,t(e[o],a)):r[a]=e[o]}return r},t.formatDate=function(t,e="DD MMM YYYY"){const n="string"==typeof t?new Date(t):t;if(isNaN(n.getTime()))throw new Error("Invalid date");const r=n.getDate().toString().padStart(2,"0"),o=n.toLocaleDateString("en-US",{month:"short"}),a=n.getMonth()+1,i=n.getFullYear();return e.replace(/DD/g,r).replace(/MMM/g,o).replace(/MM/g,a.toString().padStart(2,"0")).replace(/YYYY/g,i.toString())},t.formatDuration=function(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60),o=Math.floor(r/24);return o>0?`${o}d ${r%24}h ${n%60}m`:r>0?`${r}h ${n%60}m ${e%60}s`:n>0?`${n}m ${e%60}s`:e>0?`${e}s`:`${t}ms`},t.formatFileSize=function(t){if(0===t)return"0 Bytes";const e=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]},t.formatNumber=function(t,e="en-US"){return new Intl.NumberFormat(e).format(t)},t.formatRelativeTime=function(t,e=Date.now()){const n=t instanceof Date?t.getTime():t,r=(e instanceof Date?e.getTime():e)-n,o=Math.floor(r/1e3),a=Math.floor(o/60),i=Math.floor(a/60),s=Math.floor(i/24),c=Math.floor(s/7),u=Math.floor(s/30),l=Math.floor(s/365);return l>0?`${l} year${1===l?"":"s"} ago`:u>0?`${u} month${1===u?"":"s"} ago`:c>0?`${c} week${1===c?"":"s"} ago`:s>0?`${s} day${1===s?"":"s"} ago`:i>0?`${i} hour${1===i?"":"s"} ago`:a>0?`${a} minute${1===a?"":"s"} ago`:o>0?`${o} second${1===o?"":"s"} ago`:"just now"},t.formatTimeDate=function(t,e="YYYY-MM-DD HH:mm:ss"){const n=t instanceof Date?t:new Date(t),r=n.getFullYear(),o=n.getMonth()+1,a=n.getDate(),i=n.getHours(),s=n.getMinutes(),c=n.getSeconds();return e.replace("YYYY",r.toString()).replace("MM",o.toString().padStart(2,"0")).replace("DD",a.toString().padStart(2,"0")).replace("HH",i.toString().padStart(2,"0")).replace("mm",s.toString().padStart(2,"0")).replace("ss",c.toString().padStart(2,"0"))},t.fromPairs=function(t){const e={};return t.forEach(([t,n])=>{e[t]=n}),e},t.gcd=s,t.generatePassword=function(t={}){const{length:e=12,includeUppercase:n=!0,includeLowercase:r=!0,includeNumbers:o=!0,includeSymbols:a=!0}=t;let i="";if(n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),r&&(i+="abcdefghijklmnopqrstuvwxyz"),o&&(i+="0123456789"),a&&(i+="!@#$%^&*()_+-=[]{}|;:,.<>?"),""===i)throw new Error("At least one character set must be included");return P(e,i)},t.generatePrimes=function(t){const e=[],n=new Array(t+1).fill(!0);n[0]=n[1]=!1;for(let e=2;e<=Math.sqrt(t);e++)if(n[e])for(let r=e*e;r<=t;r+=e)n[r]=!1;for(let r=2;r<=t;r++)n[r]&&e.push(r);return e},t.generateUniqueFilename=function(t,e=""){const n=Date.now(),r=Math.random().toString(36).substring(2,8),o=x(t);return`${b(t)}_${n}_${r}${e}${o?"."+o:""}`},t.getContrastRatio=w,t.getDayOfYear=function(t){const e=new Date(t.getFullYear(),0,0),n=t.getTime()-e.getTime();return Math.floor(n/864e5)},t.getDaysInMonth=function(t,e){return new Date(t,e+1,0).getDate()},t.getDirectory=function(t){const e=t.split(/[\\/]/);return e.pop(),e.join("/")},t.getFileCategory=function(t){if(D(t))return"image";if(v(t))return"video";if(T(t))return"audio";if($(t))return"document";if(A(t))return"archive";if(j(t))return"executable";const e=x(t).toLowerCase();return["html","css","js","ts","json","xml","sql","php","py","java","cpp","c","cs","rb","go","rs","swift","kt"].includes(e)?"code":"other"},t.getFileExtension=x,t.getFilename=function(t){return t.split(/[\\/]/).pop()||""},t.getLuminance=g,t.getMimeType=S,t.getObject=function(t,e,n){const r=e.split(".");let o=t;for(const t of r){if(null==o||"object"!=typeof o)return n;o=o[t]}return void 0!==o?o:n},t.getTimeDifference=function(t,e,n){const r=Math.abs(t.getTime()-e.getTime());switch(n){case"milliseconds":default:return r;case"seconds":return Math.floor(r/1e3);case"minutes":return Math.floor(r/6e4);case"hours":return Math.floor(r/36e5);case"days":return Math.floor(r/864e5)}},t.getTimezoneName=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return"Unknown"}},t.getTimezoneOffset=function(t=new Date){return t.getTimezoneOffset()},t.getWeekOfYear=function(t){const e=new Date(t.getFullYear(),0,1),n=Math.floor((t.getTime()-e.getTime())/864e5);return Math.ceil((n+e.getDay()+1)/7)},t.grayscale=function(t){const e=l(t);if(!e)return t;const n=Math.round(.299*e.r+.587*e.g+.114*e.b);return f(n,n,n)},t.groupBy=function(t,e){return t.reduce((t,n)=>{const r=e(n);return t[r]||(t[r]=[]),t[r].push(n),t},{})},t.hasSufficientContrast=function(t,e,n=4.5){return w(t,e)>=n},t.hexToHsl=m,t.hexToRgb=l,t.hmacSha256=async function(t,e){if("undefined"!=typeof crypto&&crypto.subtle){const n=new TextEncoder,r=n.encode(e),o=n.encode(t),a=await crypto.subtle.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),i=await crypto.subtle.sign("HMAC",a,o);return Array.from(new Uint8Array(i)).map(t=>t.toString(16).padStart(2,"0")).join("")}throw new Error("Web Crypto API not available")},t.hslToHex=h,t.hslToRgb=d,t.httpGet=function(t,e){return o(t,{...e,method:"GET"})},t.intersection=function(...t){return 0===t.length?[]:1===t.length?t[0]:t.reduce((t,e)=>t.filter(t=>e.includes(t)))},t.invert=function(t){const e=l(t);return e?f(255-e.r,255-e.g,255-e.b):t},t.invertObject=function(t){const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e},t.isAbsolutePath=M,t.isAlpha=function(t){return/^[a-zA-Z]+$/.test(t)},t.isAlphanumeric=function(t){return/^[a-zA-Z0-9]+$/.test(t)},t.isArchive=A,t.isAudio=T,t.isCreditCard=function(t){const e=t.replace(/\s+/g,"");if(!/^\d{13,19}$/.test(e))return!1;let n=0,r=!1;for(let t=e.length-1;t>=0;t--){let o=parseInt(e.charAt(t));r&&(o*=2,o>9&&(o-=9)),n+=o,r=!r}return n%10==0},t.isDate=function(t){if(t instanceof Date)return!isNaN(t.getTime());if("string"==typeof t){const e=new Date(t);return!isNaN(e.getTime())}return!1},t.isDocument=$,t.isEmail=function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},t.isEmpty=function(t){return null==t||(Array.isArray(t)||"string"==typeof t?0===t.length:t instanceof Map||t instanceof Set?0===t.size:!(!t||"object"!=typeof t)&&0===Object.keys(t).length)},t.isEmptyValue=function(t){return null==t||("string"==typeof t?0===t.trim().length:Array.isArray(t)?0===t.length:"object"==typeof t&&0===Object.keys(t).length)},t.isExecutable=j,t.isFuture=function(t){return t>new Date},t.isIPv4=function(t){return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)},t.isIPv6=function(t){return/^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/.test(t)},t.isImage=D,t.isInteger=function(t){return Number.isInteger(t)},t.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},t.isNegative=function(t){return"number"==typeof t&&t<0},t.isNumeric=function(t){return/^\d+$/.test(t)},t.isPast=function(t){return t<new Date},t.isPhone=function(t){return/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/[\s\-\(\)]/g,""))},t.isPositive=function(t){return"number"==typeof t&&t>0},t.isPostalCode=function(t){return/^\d{5}(-\d{4})?$/.test(t)},t.isPrime=function(t){if(t<2)return!1;if(2===t)return!0;if(t%2==0)return!1;const e=Math.sqrt(t);for(let n=3;n<=e;n+=2)if(t%n===0)return!1;return!0},t.isRelativePath=function(t){return!M(t)},t.isSSN=function(t){return/^\d{3}-?\d{2}-?\d{4}$/.test(t)},t.isToday=function(t){const e=new Date;return t.toDateString()===e.toDateString()},t.isTomorrow=function(t){const e=new Date;return e.setDate(e.getDate()+1),t.toDateString()===e.toDateString()},t.isURL=function(t){try{return new URL(t),!0}catch{return!1}},t.isValidFilename=function(t){return!/[<>:"/\\|?*\x00-\x1f]/.test(t)&&!/^(CON|PRN|AUX|NUL|COM[1-9]|LPT[1-9])(\.|$)/i.test(t)&&t.length>0&&t.length<=255},t.isValidHex=function(t){return/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)},t.isVideo=v,t.isYesterday=function(t){const e=new Date;return e.setDate(e.getDate()-1),t.toDateString()===e.toDateString()},t.joinPath=function(...t){return t.map(t=>t.replace(/^\/+|\/+$/g,"")).filter(Boolean).join("/")},t.lcm=function(t,e){return Math.abs(t*e)/s(t,e)},t.lerp=function(t,e,n){return t+(e-t)*n},t.lighten=function(t,e){const n=m(t);return n?(n.l=Math.min(100,n.l+e),h(n.h,n.s,n.l)):t},t.localStorage=e,t.map=function(t,e,n,r,o){return(t-e)*(o-r)/(n-e)+r},t.max=function(t){return 0===t.length?NaN:Math.max(...t)},t.md5=async function(t){if("undefined"!=typeof crypto&&crypto.subtle){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("MD5",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")}return C(t).toString(16)},t.measureTime=async function(t){const e=performance.now();return{result:await t(),time:performance.now()-e}},t.median=function(t){if(0===t.length)return NaN;const e=[...t].sort((t,e)=>t-e),n=Math.floor(e.length/2);return e.length%2==0?(e[n-1]+e[n])/2:e[n]},t.min=function(t){return 0===t.length?NaN:Math.min(...t)},t.monochromatic=function(t,e=5){const n=m(t);if(!n)return[t];const r=[],o=100/(e-1);for(let t=0;t<e;t++){const e=Math.max(0,Math.min(100,t*o));r.push(h(n.h,n.s,e))}return r},t.normalizePath=function(t){return t.replace(/[\\/]+/g,"/").replace(/\/\.\//g,"/").replace(/\/\.\.\//g,"/")},t.now=function(){return Date.now()},t.nowSeconds=function(){return Math.floor(Date.now()/1e3)},t.omit=function(t,e){const n={...t};return e.forEach(t=>{delete n[t]}),n},t.parseDuration=function(t){const e=/(\d+)([dhms])/g;let n,r=0;for(;null!==(n=e.exec(t));){const t=parseInt(n[1]);switch(n[2]){case"d":r+=24*t*60*60*1e3;break;case"h":r+=60*t*60*1e3;break;case"m":r+=60*t*1e3;break;case"s":r+=1e3*t}}return r},t.patch=function(t,e,n){return o(t,{...n,method:"PATCH",body:e})},t.percentage=function(t,e){return 0===e?0:t/e*100},t.percentageChange=function(t,e){return 0===t?0===e?0:100:(e-t)/t*100},t.pick=function(t,e){const n={};return e.forEach(e=>{e in t&&(n[e]=t[e])}),n},t.post=function(t,e,n){return o(t,{...n,method:"POST",body:e})},t.put=function(t,e,n){return o(t,{...n,method:"PUT",body:e})},t.queryString=i,t.radiansToDegrees=function(t){return t*(180/Math.PI)},t.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.randomFloat=function(t,e){return Math.random()*(e-t)+t},t.randomHex=function(){let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},t.randomHexString=function(t){const e=new Uint8Array(t/2);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")},t.randomString=P,t.range=function(t,e,n=1){const r=[];for(let o=t;o<=e;o+=n)r.push(o);return r},t.removeFileExtension=b,t.request=o,t.retry=async function(t,e=3,n=1e3){let r;for(let o=1;o<=e;o++)try{return await t()}catch(t){if(r=t,o===e)throw r;const a=n*Math.pow(2,o-1);await new Promise(t=>setTimeout(t,a))}throw r},t.retryOnError=async function(t,e,n=3){let r;for(let o=1;o<=n;o++)try{return await t()}catch(t){if(r=t,!e(r)||o===n)throw r}throw r},t.rgbToHex=f,t.rgbToHsl=p,t.rotateHue=y,t.round=function(t,e=0){const n=Math.pow(10,e);return Math.round(t*n)/n},t.sanitizeFilename=function(t){return t.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"")},t.saturate=function(t,e){const n=m(t);return n?(n.s=Math.min(100,n.s+e),h(n.h,n.s,n.l)):t},t.sequence=async function(t){const e=[];for(const n of t){const t=await n();e.push(t)}return e},t.sessionStorage=n,t.set=function(t,e,n){const r=e.split("."),o={...t};let a=o;for(let t=0;t<r.length-1;t++){const e=r[t];e in a&&"object"==typeof a[e]||(a[e]={}),a=a[e]}return a[r[r.length-1]]=n,o},t.sha256=async function(t){if("undefined"!=typeof crypto&&crypto.subtle){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")}throw new Error("Web Crypto API not available")},t.sha512=async function(t){if("undefined"!=typeof crypto&&crypto.subtle){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-512",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")}throw new Error("Web Crypto API not available")},t.shuffle=function(t){const e=[...t];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},t.simpleHash=C,t.slugify=function(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},t.sortBy=function(t,...e){return[...t].sort((t,n)=>{for(const r of e)if("function"==typeof r){const e=r(t,n);if(0!==e)return e}else{if(t[r]<n[r])return-1;if(t[r]>n[r])return 1}return 0})},t.standardDeviation=function(t){if(t.length<2)return 0;const e=u(t),n=u(t.map(t=>Math.pow(t-e,2)));return Math.sqrt(n)},t.startOfDay=function(t=new Date){const e=new Date(t);return e.setHours(0,0,0,0),e},t.startOfMonth=function(t=new Date){const e=new Date(t);return e.setDate(1),e.setHours(0,0,0,0),e},t.startOfWeek=function(t=new Date){const e=new Date(t),n=e.getDay();return e.setDate(e.getDate()-n),e.setHours(0,0,0,0),e},t.subtractTime=function(t,e,n){return E(t,-e,n)},t.sum=c,t.throttle=function(t,e){let n=0;return(...r)=>{const o=Date.now();o-n>=e&&(n=o,t(...r))}},t.throttleAsync=function(t,e){let n=0,r=null;return(...o)=>{const a=Date.now();return a-n<e&&r||(n=a,r=t(...o),r.finally(()=>{r=null})),r}},t.timeAgo=function(t){const e="string"==typeof t?new Date(t):t,n=new Date,r=Math.floor((n.getTime()-e.getTime())/1e3);if(r<60)return`${r} second${1!==r?"s":""} ago`;const o=Math.floor(r/60);if(o<60)return`${o} minute${1!==o?"s":""} ago`;const a=Math.floor(o/60);if(a<24)return`${a} hour${1!==a?"s":""} ago`;const i=Math.floor(a/24);if(i<7)return`${i} day${1!==i?"s":""} ago`;const s=Math.floor(i/7);if(s<4)return`${s} week${1!==s?"s":""} ago`;const c=Math.floor(i/30);if(c<12)return`${c} month${1!==c?"s":""} ago`;const u=Math.floor(i/365);return`${u} year${1!==u?"s":""} ago`},t.timeout=function(t,e){return Promise.race([t,new Promise((t,n)=>setTimeout(()=>n(new Error("Operation timed out")),e))])},t.toPairs=function(t){return Object.entries(t)},t.unique=function(t){return[...new Set(t)]},t.url=a,t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},t.waitFor=function(t,e=100,n=1e4){return new Promise((r,o)=>{const a=Date.now(),i=()=>{t()?r():Date.now()-a>n?o(new Error("Wait condition timeout")):setTimeout(i,e)};i()})},t.xorDecrypt=function(t,e){const n=k(t);let r="";for(let t=0;t<n.length;t++){const o=n.charCodeAt(t)^e.charCodeAt(t%e.length);r+=String.fromCharCode(o)}return r},t.xorEncrypt=function(t,e){let n="";for(let r=0;r<t.length;r++){const o=t.charCodeAt(r)^e.charCodeAt(r%e.length);n+=String.fromCharCode(o)}return I(n)}});
//# sourceMappingURL=index.umd.js.map
